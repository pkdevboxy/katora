{"name":"Katora","tagline":"Minimal implementation of container-interop/container-interop package, with addition of service extensions & declarative dependency resolution.","body":"# vaibhavpandeyvpz/katora\r\nMinimal implementation of [container-interop/container-interop](https://github.com/container-interop/container-interop) package, with addition of service extensions & easy dependency fetching.\r\n\r\n[![Build Status](https://img.shields.io/travis/vaibhavpandeyvpz/katora/master.svg?style=flat-square)](https://travis-ci.org/vaibhavpandeyvpz/katora)\r\n\r\nInstall\r\n------\r\n```bash\r\ncomposer require vaibhavpandeyvpz/katora\r\n```\r\n\r\nNew Instance\r\n------\r\n```php\r\n$container = new Katora\\Container();\r\n```\r\n\r\nDefine Values\r\n------\r\n```php\r\n/**\r\n * Setting static values can be done by calling Katora\\Container::set(...)\r\n */\r\n$container->set('config', [\r\n    'db' => [\r\n        'dsn' => 'mysql:host=localhost;dbname=katora',\r\n        'username' => 'root',\r\n        'password' => null,\r\n        'options' => [ PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION ],\r\n        'charset' => 'utf8'\r\n    ]\r\n]);\r\n```\r\n\r\nSingletons\r\n------\r\n```php\r\n/**\r\n * Dependencies can be fetched using $this context.\r\n */\r\n$container->singleton('pdo', function ()\r\n{\r\n    /** @var Katora\\Container $this */\r\n    $config = $this->get('config');\r\n    return new PDO(\r\n        $config['db']['dsn'],\r\n        $config['db']['username'],\r\n        $config['db']['password'],\r\n        $config['db']['options']\r\n    );\r\n});\r\n```\r\n\r\nExtending Services\r\n------\r\n```php\r\n/**\r\n * Created service i.e., PDO will be passed as arguments\r\n */\r\n$container->extend('pdo', function (PDO $pdo)\r\n{\r\n    /** @var Katora\\Container $this */\r\n    $config = $this->get('config');\r\n    $pdo->exec(\"SET NAMES {$config['db']['charset']}\");\r\n    // You must return the same or a new instance\r\n    return $pdo;\r\n});\r\n```\r\n\r\nUsage\r\n------\r\n```php\r\n/**\r\n * Later in code, fetch the service by id\r\n *\r\n * @var PDO $pdo */\r\n */\r\n$pdo = $container->get('pdo');\r\n```\r\n\r\nLicense\r\n------\r\nSee [LICENSE.md](https://github.com/vaibhavpandeyvpz/katora/blob/master/LICENSE.md) file.\r\n","google":"UA-67528024-2","note":"Don't delete this file! It's used internally to help with page regeneration."}